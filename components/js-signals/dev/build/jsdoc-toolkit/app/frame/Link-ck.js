/** Handle the creation of HTML links to documented symbols.
	@constructor
*/function Link(){this.alias="";this.src="";this.file="";this.text="";this.innerName="";this.classLink=!1;this.targetName="";this.target=function(e){defined(e)&&(this.targetName=e);return this};this.inner=function(e){defined(e)&&(this.innerName=e);return this};this.withText=function(e){defined(e)&&(this.text=e);return this};this.toSrc=function(e){defined(e)&&(this.src=e);return this};this.toSymbol=function(e){defined(e)&&(this.alias=new String(e));return this};this.toClass=function(e){this.classLink=!0;return this.toSymbol(e)};this.toFile=function(e){defined(e)&&(this.file=e);return this};this.toString=function(){var e,t=this;this.alias?e=this.alias.replace(/(^|[^a-z$0-9_#.:^-])([|a-z$0-9_#.:^-]+)($|[^a-z$0-9_#.:^-])/i,function(e,n,r,i){var s=r.split("|"),o=[];for(var u=0,a=s.length;u<a;u++){t.alias=s[u];o.push(t._makeSymbolLink(s[u]))}return n+o.join("|")+i}):this.src?e=t._makeSrcLink(this.src):this.file&&(e=t._makeFileLink(this.file));return e}}Link.hashPrefix="";Link.base="";Link.symbolNameToLinkName=function(e){var t="",n="";e.isStatic?t=".":e.isInner&&(t="-");e.isEvent&&!/^event:/.test(e.name)&&(n="event:");return Link.hashPrefix+t+n+e.name};Link.getSymbol=function(e){var t=Link.symbolSet.getSymbol(e);if(t)return t;if("#"!==e.charAt(0)||!Link.currentSymbol)return null;var n=Link.currentSymbol;while(n){t=Link.symbolSet.getSymbol(n.alias+e);if(t)return t;if(!n.augments.length)return null;n=Link.symbolSet.getSymbol(n.augments[0].desc)}return null};Link.prototype._makeSymbolLink=function(e){var t=Link.base+publish.conf.symbolsDir,n=Link.getSymbol(e),r,i=this.targetName?' target="'+this.targetName+'"':"";if(!n)return this.text||e;if(!n.is("CONSTRUCTOR")&&!n.isNamespace){r=Link.filemap?Link.filemap[n.memberOf]:escape(n.memberOf)||"_global_";r+=publish.conf.ext+"#"+Link.symbolNameToLinkName(n)}else{r=Link.filemap?Link.filemap[n.alias]:escape(n.alias);r+=publish.conf.ext}r=t+r;var s=this.text||e,o={linkPath:r,linkText:s,linkInner:this.innerName?"#"+this.innerName:""};typeof JSDOC.PluginManager!="undefined"&&JSDOC.PluginManager.run("onSymbolLink",o);return'<a href="'+o.linkPath+o.linkInner+'"'+i+">"+o.linkText+"</a>"};Link.prototype._makeSrcLink=function(e){var t=this.targetName?' target="'+this.targetName+'"':"",n=e.replace(/\.\.?[\\\/]/g,"").replace(/[:\\\/]/g,"_"),r=Link.base+publish.conf.srcDir+n+publish.conf.ext;this.text||(this.text=FilePath.fileName(e));return'<a href="'+r+'"'+t+">"+this.text+"</a>"};Link.prototype._makeFileLink=function(e){var t=this.targetName?' target="'+this.targetName+'"':"",n=Link.base+e;this.text||(this.text=e);return'<a href="'+n+'"'+t+">"+this.text+"</a>"};