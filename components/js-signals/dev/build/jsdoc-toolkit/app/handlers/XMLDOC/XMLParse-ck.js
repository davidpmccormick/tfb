LOG.inform("XMLDOC.Parser loaded");XMLDOC.Parser={};XMLDOC.Parser.strictMode=!0;XMLDOC.Parser.node=function(e,t,n){this.name=t;this.type=n||"ELEMENT";this.parent=e;this.charData="";this.attrs={};this.nodes=[];this.cPtr=0;XMLDOC.Parser.node.prototype.getAttributeNames=function(){var e=[];for(var t in this.attrs)e.push(t);return e};XMLDOC.Parser.node.prototype.getAttribute=function(e){return this.attrs[e]};XMLDOC.Parser.node.prototype.setAttribute=function(e,t){this.attrs[e]=t};XMLDOC.Parser.node.prototype.getChild=function(e){return this.nodes[e]};XMLDOC.Parser.node.prototype.parentNode=function(){return this.parent};XMLDOC.Parser.node.prototype.firstChild=function(){return this.nodes[0]};XMLDOC.Parser.node.prototype.lastChild=function(){return this.nodes[this.nodes.length-1]};XMLDOC.Parser.node.prototype.nextSibling=function(){var e=this.parent;return e&&e.nodes.indexOf(this)+1!=e.nodes.length?e.getChild(e.nodes.indexOf(this)+1):null};XMLDOC.Parser.node.prototype.prevSibling=function(){var e=this.parent;return e&&e.nodes.indexOf(this)-1>=0?e.getChild(e.nodes.indexOf(this)-1):null}};XMLDOC.Parser.parse=function(e){var t=[];t=e.split("\r\n");e=t.join("\n");t=e.split("\r");e=t.join("\n");e.replace(/<\?XML .*\?>/i,"");e.replace(/<!DOCTYPE .*\>/i,"");var n=new XMLDOC.Parser.node(null,"ROOT","DOCUMENT");XMLDOC.Parser.eat(n,e);return n};XMLDOC.Parser.eat=function(e,t){var n=new RegExp("<(!|)(\\?|--|)((.|\\s)*?)\\2>","g"),r=/<!--((.|\s)*?)-->/,i=/<\?((.|\s)*?)\?>/,s=/<(.*?)( +([\w_\-]*)=(\"|')(.*)\4)*(\/)?>/,o=/<(.*?)( +([\w_\-]*)=(\"|')(.*)\4)*>/,u=/<(.*?)( +([\w_\-]*)=(\"|')(.*?)\4)*>((.|\s)*?)<\/\1>/,a=new RegExp(" +([\\w_\\-]*)=(\"|')(.*?)\\2","g"),f;while((f=n.exec(t))!=null){if(f.index>0){var l=t.substring(0,f.index).replace(/^[ \t\n]+((.|\n)*?)[ \t\n]+$/,"$1");if(l.length>0&&l!="\n"){var c=new XMLDOC.Parser.node(e,"","TEXT");c.charData=l;e.nodes.push(c)}n.lastIndex-=t.substring(0,f.index).length;t=t.substring(f.index)}if(r.test(f[0])){var h=new XMLDOC.Parser.node(e,"","COMMENT");h.charData=r.exec(f[0])[1];e.nodes.push(h);n.lastIndex-=f[0].length;t=t.replace(r,"")}else if(i.test(f[0])){var p=new XMLDOC.Parser.node(e,"","PI");p.charData=i.exec(f[0])[1];e.nodes.push(p);n.lastIndex-=f[0].length;t=t.replace(i,"")}else if(s.test(f[0])){var d=s.exec(f[0]),v=new XMLDOC.Parser.node(e,d[1],"ELEMENT"),m;while((m=a.exec(d[2]))!=null)v.attrs[m[1]]=m[3];if(d[6]=="/"){e.nodes.push(v);n.lastIndex-=d[0].length;t=t.replace(s,"")}else{var g=!1,y=o.exec(t),b=new RegExp("</"+y[1]+">"),w=b.exec(t);if(XMLDOC.Parser.strictMode&&w==null){var E=new Error("Malformed XML passed to XMLDOC.Parser... Error contains malformed 'src'");E.src=t;throw E}if(w==null){e.nodes.push(v);t=t.replace(o,"");g=!0}if(!g){var S=u.exec(t);XMLDOC.Parser.eat(v,S[6]);e.nodes.push(v);t=t.replace(u,"")}}n.lastIndex=0}}t=t.replace(/^[ \t\n]+((.|\n)*?)[ \t\n]+$/,"$1");if(t.length>0&&t!="\n"){var x=new XMLDOC.Parser.node(e,"","TEXT");x.charData=t;e.nodes.push(x)}};